# Week 3: Post-Exploitation & Privilege Escalation

## Goal
Stabilize the non-interactive shell, perform local reconnaissance on the compromised host, and identify all potential paths to maintain access and escalate privileges.

## Methodology
The methodology focused on upgrading the shell and systematic file hunting using native Linux tools.

### Key Commands Used
| Phase | Command | Purpose |
| :--- | :--- | :--- |
| **Shell Stabilization** | `python pty.spawn("/bin/bash")` + `stty raw -echo` | Upgraded the unstable shell to a fully interactive TTY shell. |
| **Data Hunt** | `grep -r -i "password" /var/www` | Recursively searched web application directories for stored credentials. |
| **Privilege Check** | `su -c "sudo -l" msfadmin` | Checked the sudo permissions for the low-privilege user. |
| **SUID/SGID Search** | `find / -perm -4000 -o -perm -2000 2>/dev/null` | Identified misconfigured binaries that allow privilege escalation. |

---

## Key Findings (Actionable Intelligence)

### 1. Stored Credentials
A specific database password was located in the web application configuration files, providing credentials for **lateral movement**:

* **Database Password Found:** **`pass`**

### 2. Privilege Escalation Paths
Two high-confidence paths to root were identified, even though the initial shell was already root:

* **Misconfigured `sudo` Permissions:** The low-privilege user, **`msfadmin`**, was found to be able to run **`(ALL) ALL`** commands as any user without needing a password. This is the **easiest path to immediate root access**.

![Sudo Permissions Proof](Assets/week3_sudo_l_proof.png)

* **Vulnerable SUID Binaries:** The search identified several binaries with the SUID bit set, including **`sudo`** and **`nmap`**. This confirms that exploitation of these binaries could be used as a backup privilege escalation method.

### 3. System Intel
The exact kernel version was confirmed, which is critical for finding publicly available kernel exploits:

* **Kernel Version:** **`Linux metasploitable 2.6.24-16-server`** (Highly outdated and vulnerable)

---